<form class="w-full" [formGroup]="form" autocomplete="off">
    <div class="header-dialog-user">
        <div class="header-container-user gap-3 flex">
            <mat-icon class="icon-size-7" svgIcon="mat_outline:person_outline"></mat-icon>
            <div class="header-text"> {{ data.object ? 'Editar' : 'Agregar' }} experiencia profesional</div>
        </div>
    </div>
    <div class="body-dialog-user">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="col-span-1">
                <mat-form-field class="mat-form-field-custom w-full" appearance="outline" floatLabel="always">
                    <mat-label>Empresa</mat-label>
                    <input
                        formControlName="sNombreEmpresa"
                        matInput 
                        placeholder="--"
                        type="text"
                        (keypress)="onKeyPress($event)"
                        (input)="onInput($event, 'sNombreEmpresa')"
                        maxlength="255">
                        @if(form.get('sNombreEmpresa').invalid) {
                            <mat-error class="text-red-500">
                                {{ form.get("sNombreEmpresa") | translateMessageForm }}
                            </mat-error>
                        }
                </mat-form-field>     
            </div>
            <div class="col-span-1">
                <mat-form-field class="mat-form-field-custom w-full" appearance="outline" floatLabel="always">
                    <mat-label>Ruc de la empresa</mat-label>
                    <input
                        formControlName="sRucEmpresa"
                        matInput 
                        placeholder="--"
                        type="text"
                        maxlength="11">
                        @if(form.get('sRucEmpresa').invalid) {
                            <mat-error class="text-red-500">
                                {{ form.get("sRucEmpresa") | translateMessageForm }}
                            </mat-error>
                        }
                </mat-form-field>     
            </div>
            <div class="col-span-1">
                <mat-form-field class="mat-form-field-custom w-full" appearance="outline" floatLabel="always">
                    <mat-label>Tipo de cargo</mat-label>
                    <mat-select
                        formControlName="nCargoId"
                        placeholder="--">
                        @for (item of []; track $index) {
                            <mat-option [value]="item?.nConValor">
                                {{ item?.sConDescripcion }}
                            </mat-option>
                        }
                    </mat-select>
                        @if(form.get('nCargoId').invalid) {
                            <mat-error class="text-red-500">
                                {{ form.get("nCargoId") | translateMessageForm: 'select' }}
                            </mat-error>
                        }
                </mat-form-field>     
            </div>
            <div class="col-span-1">
                <mat-form-field class="mat-form-field-custom w-full" appearance="outline" floatLabel="always">
                    <mat-label>Nombre del cargo</mat-label>
                    <input
                        formControlName="sNombreCargo"
                        matInput 
                        placeholder="--"
                        type="text"
                        (keypress)="onKeyPress($event)"
                        (input)="onInput($event, 'sNombreCargo')"
                        maxlength="150">
                        @if(form.get('sNombreCargo').invalid) {
                            <mat-error class="text-red-500">
                                {{ form.get("sNombreCargo") | translateMessageForm }}
                            </mat-error>
                        }
                </mat-form-field>     
            </div>
            
            <div class="col-span-1">
                <mat-form-field
                    class="mat-form-field-custom w-full"
                    appearance="outline"
                    floatLabel="always">
                <mat-label>Fecha de Inicio</mat-label>
                <input
                    (keypress)="onKeyPressDate($event)"
                    (input)="onInputDate($event, 'dFechaInicio')"
                    [max]="maxDateStart"
                    [min]="minDateStart"
                    formControlName="dFechaInicio"
                    matInput
                    maxlength="10"
                    placeholder="--/--/----"
                    [matDatepicker]="pickerStart"
                />
                <mat-datepicker-toggle
                    matSuffix
                    [for]="pickerStart"
                ></mat-datepicker-toggle>
                <mat-datepicker #pickerStart>
                    <mat-datepicker-actions>
                        <button mat-button matDatepickerCancel>
                            Cancelar
                        </button>
                        <button mat-raised-button color="primary"matDatepickerApply>
                            Aplicar
                        </button>
                    </mat-datepicker-actions>
                </mat-datepicker>
                @if(form.get('dFechaInicio').invalid) {
                    <mat-error class="text-red-500">
                        {{ form.get("dFechaInicio") | translateMessageForm: "date" }}
                    </mat-error>
                }
            </mat-form-field>
        </div>
        <div class="col-span-1">
            <mat-form-field
                class="mat-form-field-custom w-full"
                appearance="outline"
                floatLabel="always">
            <mat-label>Fecha fin</mat-label>
            <input
                (keypress)="onKeyPressDate($event)"
                (input)="onInputDate($event, 'dFechaFin')"
                [max]="maxDateEnd"
                [min]="minDateEnd"
                formControlName="dFechaFin"
                matInput
                maxlength="10"
                placeholder="--/--/----"
                [matDatepicker]="pickerEnd"
            />
            <mat-datepicker-toggle
                matSuffix
                [for]="pickerEnd"
            ></mat-datepicker-toggle>
            <mat-datepicker #pickerEnd>
                <mat-datepicker-actions>
                    <button mat-button matDatepickerCancel>
                        Cancelar
                    </button>
                    <button mat-raised-button color="primary"matDatepickerApply>
                        Aplicar
                    </button>
                </mat-datepicker-actions>
            </mat-datepicker>
            @if(form.get('dFechaFin').invalid) {
                <mat-error class="text-red-500">
                    {{ form.get("dFechaFin") | translateMessageForm: "date" }}
                </mat-error>
            }
        </mat-form-field>
    </div>
        </div>
        <div class="btn-options-user justify-center  md:justify-end">
            <fo-button-dialog
                [textBtn]="'Cancelar'"
                [typeButton]="buttonEnum().CANCEL"
                matDialogClose>
            </fo-button-dialog>
            <fo-button-dialog
                [btnDisabled]="loadingService()"
                [textBtn]="isEdit() ? 'Guardar' : 'Crear'"
                (eventActionClick)="registerForm()"
                >
            </fo-button-dialog>
        </div>
    </div>
</form>